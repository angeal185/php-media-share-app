function Follow(e){$(e).find("span").text("LOADING..."),$.post(url+"post/Follow/"+uploader_user_id,{security:security}).done(function(t){"[OK]"==t?($(e).attr("onclick","UnFollow(this)"),$(e).addClass("following"),$(e).find("span").text("FOLLOWING")):$(e).find("span").text("ERROR")})}function UnFollow(e){$(e).find("span").text("LOADING..."),$.post(url+"post/UnFollow/"+uploader_user_id,{security:security}).done(function(t){"[OK]"==t?($(e).attr("onclick","Follow(this)"),$(e).removeClass("following"),$(e).find("span").text("FOLLOW")):$(e).find("span").text("ERROR")})}function Search(){var e=$("#search_method").text();return e=" VIDEOS"==e?1:2,window.location.href=url+"home/Search/"+$("#search").val()+"/"+e+"/",!1}function escapeHtml(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return e.replace(/[&<>"']/g,function(e){return t[e]})}function LikeOrUnlike(e){var t=$("#like_text").text();switch(t){case"UNLIKE":$(e).find("#like_text").text("LOADING..."),$.post(url+"post/unlike/"+hash,{security:security}).done(function(t){"[UNLIKED]"==t?($(e).parent().find("#likes").text(parseInt($(e).parent().find("#likes").text())-1),$(e).find("#like_text").text("LIKE")):$(e).find("#like_text").text("ERROR")});break;case"LIKE":$(e).find("#like_text").text("LOADING..."),$.post(url+"post/like/"+hash,{security:security}).done(function(t){"[LIKED]"==t?($(e).parent().find("#likes").text(parseInt($(e).parent().find("#likes").text())+1),$(e).find("#like_text").text("UNLIKE")):$(e).find("#like_text").text("ERROR")})}}function COMMENT(e){var t=$("#comment_text").val();$("#comment_text").val(""),$.post(url+"post/comment/"+hash,{comment:t,security:security}).done(function(e){"[OK]"==e?$(".comment-box").prepend('<div class="social-talk"> <div class="media social-profile clearfix"><a class="pull-left" href="'+url+"home/Profile/"+login_username+'"><img src="'+url+"profiles/avatar/"+avatar+'" alt="'+login_username+'"> </a><div class="media-body"><span class="font-bold"><a href="'+url+"home/Profile/"+login_username+'">'+login_username+'</a></span> <small class="text-muted">JUST NOW</small><div class="social-content">'+escapeHtml(t)+"</div> </div></div></div><hr>"):"[TIME]"==e?swal("Error!","Please wait 60 seconds from your last comment!","error"):swal("Error!","Error while posting comment!","error")})}function LoadComments(e){var t=$(e).text();$(e).text("LOADING..."),$.post(url+"post/LoadComments/"+comment_i,{hash:hash}).done(function(n){"[NULL]"==n?$(e).parent().html("<center>NO MORE COMMENTS</center>"):(comment_i+=10,$(e).text(t),$(".comment-box").append(n))})}function DeleteComment(e,t){swal({title:"Are you sure?",text:"Your will not be able to recover this comment!",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, delete it!",cancelButtonText:"No, cancel!",closeOnConfirm:!1,closeOnCancel:!1},function(n){n?$.post(url+"post/DeleteComment/"+e,{security:security}).done(function(e){"[OK]"==e?(swal("Deleted!","The comment has been deleted.","success"),$(t).parent().parent().parent().remove()):swal("Error!","Error while deleting comment!","error")}):swal("Cancelled","The comment is safe :)","error")})}function LoadVideos(e){var t=$(e).text();$(e).text("LOADING..."),$.post(url+"post/LoadVideos/"+videos_i,{category:_category,hash:hash}).done(function(n){"[NULL]"==n?$(e).replaceWith("<center>NO MORE VIDEOS</center>"):(videos_i+=10,$(e).text(t),$(".video-box").append(n))})}function GetChecked(){var e=[];return $("#select_msg:checked").each(function(){e.push($(this).val())}),e}function DeleteMessages(){var e=GetChecked();0!==e.length&&swal({title:"Are you sure?",text:"Your will not be able to recover the message/s!",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, delete it/them!",cancelButtonText:"No, cancel!",closeOnConfirm:!1,closeOnCancel:!1},function(t){t?$.post(url+"post/PM_Operation/1",{List:e,security:security}).done(function(e){"[OK]"==e?(swal("Deleted!","Selected message/s has been deleted.","success"),$("#select_msg:checked").each(function(){$(this).parent().parent().parent().parent().remove()})):swal("Cancelled","Sorry, try again later.","error")}):swal("Cancelled","Your message/s is/are safe :)","error")})}function MarkAll(){0==checked_all?($("#select_msg:not(:checked)").each(function(){$(this).prop("checked",!0)}),checked_all=1):($("#select_msg:checked").each(function(){$(this).prop("checked",!1)}),checked_all=0)}function SeenMessages(){var e=GetChecked();0!==e.length&&$.post(url+"post/PM_Operation/2",{List:e,security:security}).done(function(e){"[OK]"==e&&($("#select_msg:checked").each(function(){$(this).parent().parent().parent().removeClass("unread"),$(this).prop("checked",!1)}),checked_all=0)})}function DeleteVideo(e,t){swal({title:"Are you sure?",text:"Your will not be able to recover this video!",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, delete it!",cancelButtonText:"No, cancel!",closeOnConfirm:!1,closeOnCancel:!1},function(n){n?$.post(url+"post/DeleteMyVideo/"+e,{security:security}).done(function(e){"[OK]"==e?(swal("Deleted!","Your video has been deleted.","success"),$(t).parent().parent().parent().parent().remove()):swal("Error!","Error while deleting video!","error")}):swal("Cancelled","Your video is safe :)","error")})}function EditVideo(e,t,n,o){$('[name="edit_video_id"]').val(e),$('[name="edit_title"]').val(t),$('[name="edit_description"]').val(n),$('[name="enable_comments"]').val(o)}var comment_i=10,videos_i=10,checked_all=0;$(".dropdown-menu li a").click(function(){$(this).parents(".btn-group").find(".selection").html($(this).html()),$("#search").attr("placeholder","Search for"+$(this).text().toLowerCase()+"...")});